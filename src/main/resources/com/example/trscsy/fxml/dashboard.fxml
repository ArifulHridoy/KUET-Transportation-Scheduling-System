<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Text?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.example.trscsy.controller.DashboardController"
            prefWidth="1200" prefHeight="700"
            styleClass="root">

    <!-- Top Menu Bar -->
    <top>
        <VBox styleClass="top-bar">
            <HBox alignment="CENTER_LEFT" spacing="20" styleClass="menu-bar">
                <padding><Insets top="15" right="15" bottom="15" left="15"/></padding>
                <Label text="KUET Transportation System" styleClass="app-title"/>
                <Region HBox.hgrow="ALWAYS"/>
                <Button text="Dashboard" onAction="#handleDashboard" styleClass="nav-button"/>
                <Button text="Buses" onAction="#handleManageBuses" styleClass="nav-button"/>
                <Button text="Drivers" onAction="#handleManageDrivers" styleClass="nav-button"/>
                <Button text="Routes" onAction="#handleManageRoutes" styleClass="nav-button"/>
                <Button text="Schedules" onAction="#handleManageSchedules" styleClass="nav-button"/>
                <Button text="Students" onAction="#handleStudentAssignment" styleClass="nav-button"/>
                <Button text="History" onAction="#handleTravelHistory" styleClass="nav-button"/>
                <Button text="Logout" onAction="#handleLogout" styleClass="logout-button"/>
            </HBox>
        </VBox>
    </top>

    <!-- Center Content Area -->
    <center>
        <ScrollPane fitToWidth="true" fitToHeight="true" styleClass="content-area">
            <VBox spacing="25">
                <padding><Insets top="30" right="30" bottom="30" left="30"/></padding>

                <!-- Dashboard Overview -->
                <Label text="Dashboard Overview" styleClass="section-title"/>

                <GridPane hgap="20" vgap="20">
                    <VBox styleClass="stat-card" GridPane.columnIndex="0" GridPane.rowIndex="0">
                        <Label text="Total Buses" styleClass="stat-label"/>
                        <Label fx:id="totalBusesLabel" text="0" styleClass="stat-value"/>
                        <Label text="Active Buses" styleClass="stat-sublabel"/>
                        <Label fx:id="activeBusesLabel" text="0" styleClass="stat-subvalue"/>
                    </VBox>

                    <VBox styleClass="stat-card" GridPane.columnIndex="1" GridPane.rowIndex="0">
                        <Label text="Total Drivers" styleClass="stat-label"/>
                        <Label fx:id="totalDriversLabel" text="0" styleClass="stat-value"/>
                        <Label text="Active Drivers" styleClass="stat-sublabel"/>
                        <Label fx:id="activeDriversLabel" text="0" styleClass="stat-subvalue"/>
                    </VBox>

                    <VBox styleClass="stat-card" GridPane.columnIndex="2" GridPane.rowIndex="0">
                        <Label text="Total Routes" styleClass="stat-label"/>
                        <Label fx:id="totalRoutesLabel" text="0" styleClass="stat-value"/>
                    </VBox>

                    <VBox styleClass="stat-card" GridPane.columnIndex="3" GridPane.rowIndex="0">
                        <Label text="Total Students" styleClass="stat-label"/>
                        <Label fx:id="totalStudentsLabel" text="0" styleClass="stat-value"/>
                    </VBox>

                    <VBox styleClass="stat-card" GridPane.columnIndex="0" GridPane.rowIndex="1" GridPane.columnSpan="2">
                        <Label text="Trips Today" styleClass="stat-label"/>
                        <Label fx:id="tripsTodayLabel" text="0" styleClass="stat-value"/>
                    </VBox>

                    <VBox styleClass="stat-card" GridPane.columnIndex="2" GridPane.rowIndex="1" GridPane.columnSpan="2">
                        <Label text="Trips This Week" styleClass="stat-label"/>
                        <Label fx:id="tripsWeekLabel" text="0" styleClass="stat-value"/>
                    </VBox>
                </GridPane>

                <!-- Quick Actions -->
                <Label text="Quick Actions" styleClass="section-title"/>
                <HBox spacing="15">
                    <Button text="Manage Buses" onAction="#handleManageBuses" styleClass="action-button"/>
                    <Button text="Manage Drivers" onAction="#handleManageDrivers" styleClass="action-button"/>
                    <Button text="Manage Routes" onAction="#handleManageRoutes" styleClass="action-button"/>
                    <Button text="Create Schedule" onAction="#handleManageSchedules" styleClass="action-button"/>
                    <Button text="Assign Students" onAction="#handleStudentAssignment" styleClass="action-button"/>
                    <Button text="View History" onAction="#handleTravelHistory" styleClass="action-button"/>
                </HBox>

            </VBox>
        </ScrollPane>
    </center>

</BorderPane>
